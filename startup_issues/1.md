# Issue 1: Vanity Wallet Service Registration Error

## Original Error Log
```
61|degenduel-api  | 05:49:10 PM [INFO] [ServiceManager] Registering user_balance_tracking_service... {"type":"object","isInstance":true,"hasConfig":true,"configName":"user_balance_tracking_service","directName":"user_balance_tracking_service","dependencies":["solana_engine_service"]}
61|degenduel-api  | 05:49:10 PM [INFO] [ServiceManager]  user_balance_tracking_service 
61|degenduel-api  | 05:49:10 PM [INFO] DEBUG: After registering user_balance_tracking_service
61|degenduel-api  | 05:49:10 PM [INFO] ‚ö†Ô∏è DEBUGGING ISSUE: Checking active config entries before vanity_wallet_service
61|degenduel-api  | 05:49:10 PM [INFO] ‚ö†Ô∏è Ensuring solana_service remains disabled - it has been replaced by solana_engine_service
61|degenduel-api  | 05:49:10 PM [INFO] ‚ö†Ô∏è SIMPLIFIED FIX: Using safer approach to handle deprecated solana_service
61|degenduel-api  | 05:49:10 PM [INFO] ‚ö†Ô∏è REMOVED PROBLEMATIC REGISTER FUNCTION WRAPPER
61|degenduel-api  | 05:49:10 PM [INFO] ‚ö†Ô∏è DEBUGGING: About to register vanity_wallet_service
61|degenduel-api  | 05:49:10 PM [INFO] Registering vanity_wallet_service...
61|degenduel-api  | 05:49:10 PM [INFO] Added missing 'name' property to vanityWalletService
61|degenduel-api  | 05:49:10 PM [INFO] üî• CALLER: Error
61|degenduel-api  |     at ServiceManager.register (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-manager.js:90:27)
61|degenduel-api  |     at ServiceInitializer.registerWalletLayer (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-initializer.js:359:36)
61|degenduel-api  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
61|degenduel-api  |     at async ServiceInitializer.registerCoreServices (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-initializer.js:91:13)
61|degenduel-api  | 05:49:10 PM [INFO] üî• VANITY WALLET HOOK POINT
61|degenduel-api  | 05:49:10 PM [INFO] üî• STACK AFTER VANITY:     at ServiceManager.register (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-manager.js:90:27)
61|degenduel-api  |     at ServiceInitializer.registerWalletLayer (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-initializer.js:359:36)
61|degenduel-api  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
61|degenduel-api  |     at async ServiceInitializer.registerCoreServices (file:///home/branchmanager/websites/degenduel/utils/service-suite/service-initializer.js:91:13)
61|degenduel-api  |     at async initializeServer (file:///home/branchmanager/websites/degenduel/index.js:467:21)
61|degenduel-api  | 05:49:10 PM [INFO] [ServiceManager] Registering vanity_wallet_service... {"type":"object","isInstance":false,"hasConfig":false,"directName":"vanity_wallet_service","dependencies":["solana_engine_service"]}
61|degenduel-api  | 05:49:10 PM [ERROR] Failed to register vanity_wallet_service: Service vanity_wallet_service must be an instance of BaseService
```

## Issue Analysis

The registration of the vanity wallet service is failing with the error: "Service vanity_wallet_service must be an instance of BaseService". 

Key points:
1. The code attempts to add a missing 'name' property to vanityWalletService
2. The service manager indicates vanityWalletService is an object but not an instance (isInstance:false)
3. The error specifically refers to the requirement that the service must be an instance of BaseService

This is a type/inheritance issue. The vanity wallet service is being exported as a plain object rather than as an instance of the BaseService class which is required by the service manager.

## Fix Plan

1. Examine the vanity wallet service implementation:
   ```bash
   # Read the vanity wallet service implementation
   cat /home/branchmanager/websites/degenduel/services/vanity-wallet/index.js
   ```

2. Modify the service to properly extend BaseService and export an instance instead of an object:
   - Ensure the service extends BaseService
   - Make sure it's being exported as an instance (new VanityWalletService())
   - Verify the constructor calls super() with the correct parameters

3. Check the registration code in service-initializer.js to ensure it's handling the service correctly:
   ```bash
   # Check the relevant section in service-initializer.js
   cat /home/branchmanager/websites/degenduel/utils/service-suite/service-initializer.js | grep -A 50 "Register vanity wallet service"
   ```

4. Test the fix by restarting the service with:
   ```bash
   cd /home/branchmanager/websites/degenduel && npm run pm2:restart-all &
   ```

5. Verify successful registration by checking the logs for vanity_wallet_service initialization success.